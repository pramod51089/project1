#!/bin/bash

# File containing AMI IDs
AMI_FILE="ami-ids.txt"

# Read each AMI ID from the file and describe it
while IFS= read -r ami_id; do
    echo "Details for AMI: $ami_id"
    aws ec2 describe-images --image-ids "$ami_id" --query 'Images[*].{ID:ImageId,Name:Name,CreationDate:CreationDate,State:State,OwnerId:OwnerId}' --output table
    echo ""
done < "$AMI_FILE"
